<!DOCTYPE html>
<html>
	<head>
		<title>Realm of Decay</title>
    <script type="text/javascript" src="init.js"></script>
    <script type="text/javascript" src="strings.js"></script>
    <script type="text/javascript" src="combat.js"></script>
    <script type="text/javascript" src="inventory.js"></script>
    <script type="text/javascript" src="player.js"></script>
    <script type="text/javascript" src="tickers.js"></script>
    <script type="text/javascript" src="ui.js"></script>
    <script type="text/javascript">
      function keyBindings(key) {
        var eventObj = window.event ? event : key;
        var pkCode = eventObj.charCode ? eventObj.charCode : eventObj.keyCode;
        var pressedKey = String.fromCharCode(pkCode);
        switch(pressedKey) {
          case "1":
            Game.showPanel('combatTable');
            break;
          case "2":
            Game.showPanel('powersTable');
            break;
          case "3":
            Game.showPanel('inventoryTable');
            break;
          case "4":
            Game.showPanel('storeTable');
            break;
          case "5":
            Game.showPanel('miscTable');
            break;
          case "6":
            Game.showPanel('helpTable');
            break;
          case " ":
            Game.startCombat();
            Game.showPanel('combatTable');
          case "s":
            if(Game.p_State == Game.STATE_COMBAT) { Game.specialAttack(); }
            break;
          case "f":
            if(Game.p_State == Game.STATE_COMBAT) { Game.fleeCombat(); }
            break;
          case "w":
            if(Game.p_State == Game.STATE_IDLE) { Game.startWeaponRepair(); }
            break;
          case "a":
            if(Game.p_State == Game.STATE_IDLE) { Game.startArmourRepair(); }
            break;
        }
      }
      document.onkeypress = keyBindings;
    </script>
		<link rel="stylesheet" type="text/css" href="style.css"></link>
	</head>
	<body onload="Game.init()">
		<div id="main">
			<table class="titleBar">
				<tr>
					<td class="powerHeader">Realm of Decay</td>
				</tr>
			</table>
				<span class="tabBar" style="padding-left:205px;">&nbsp;</span>
				<span class="tabButton" onclick="Game.showPanel('combatTable');">Combat</span>
				<span class="tabButton" onclick="Game.showPanel('powersTable');">Powers</span>
				<span class="tabButton" onclick="Game.showPanel('inventoryTable');">Inventory</span>
				<span class="tabButton" onclick="Game.showPanel('storeTable');">Store</span>
				<span class="tabButton" onclick="Game.showPanel('miscTable');">Options</span>
				<span class="tabButton" onclick="Game.showPanel('helpTable');">Help</span>
        <span style="font-size:14px;float:right;text-align:right;padding-right:15px;">Autobattle status:&nbsp;
          <span style="font-size:14px;float:right;text-align:right;" id="autoBattleState"></span></span>
			<table width="900px">
				<tr>
					<td id="leftPanel" width="200px" valign="top">
						<table class="playerInfo">
							<tr align="center">
								<td class="blockHeader" colspan="2">Player Statistics</td>
							</tr>
							<tr>
								<td>Level: </td>
								<td><div id="p_Level"></div></td>
							</tr>
							<tr>
								<td>Experience: </td>
								<td><div id="p_EXP"></div></td>
							</tr>
							<tr>
								<td>Next Level: </td>
								<td><div id="p_NextEXP"></div></td>
							</tr>
							<tr>
								<td>Health: </td>
								<td><div id="HPOut"><span id="p_HP"></span>/<span id="p_MaxHP"></span></div></td>
							</tr>
              <tr id="p_debuffHeader">
                <td colspan="2"><span class="blockHeader">Debuff:</span><br /><span id="p_debuffOut"></span></td>
              </tr>
              <tr>
                <td>&nbsp;</td>
              </tr>
							<tr>
								<td>Strength: </td>
								<td><div id="p_Str"></div></td>
							</tr>
							<tr>
								<td>Dexterity: </td>
								<td><div id="p_Dex"></div></td>
							</tr>
							<tr>
								<td>Intelligence: </td>
								<td><div id="p_Int"></div></td>
							</tr>
							<tr>
								<td>Constitution: </td>
								<td><div id="p_Con"></div></td>
							</tr>
              <tr>
                <td>&nbsp;</td>
              </tr>
              <tr>
                <td>Seeds: </td>
                <td><div id="CurrencyOut"></div></td>
              </tr>
              <tr>
                <td>Scrap: </td>
                <td><div id="ScrapOut"></div></td>
              </tr>
						</table>
						<table class="weaponInfo">
							<tr align="center">
								<td class="blockHeader" colspan="2">Weapon Statistics</td>
							</tr>
							<tr align="center">
								<td colspan="2"><div id="w_Name"></div></td>
							</tr>
              <tr id="w_flavourTextHandle">
                <td colspan="2"><div id="w_flavourText"></div></td>
              </tr>
              <tr>
								<td>Level: </td>
								<td><div id="w_Level"></div></td>
							</tr>
							<tr>
								<td>Type: </td>
								<td><div id="w_Type"></div></td>
							</tr>
							<tr>
								<td>Speed: </td>
								<td><div id="w_Speed"></div></td>
							</tr>
							<tr>
								<td>Damage: </td>
                <td><span id="w_minDamage"></span> - <span id="w_maxDamage"></span></td>
							</tr>
							<tr>
								<td>DPS: </td>
								<td><div id="w_DPS"></div></td>
							</tr>
							<tr>
								<td>Durability: </td>
								<td><div id="w_Decay"></div></td>
							</tr>
              <tr id="weaponDebuff">
                <td colspan="2"><span class="blockHeader">Applied Debuff:</span><br /><span id="weaponDebuffOut"></span></td>
              </tr>
              <tr id="weaponRepairPanel">
                <td colspan="2">
                  <span class="bigButton" id="repairButton" onClick="Game.startWeaponRepair();">Repair Weapon</span>
                </td>
              </tr>
						</table>
            <table class="armourInfo">
              <tr align="center">
								<td class="blockHeader" colspan="2">Armour Statistics</td>
							</tr>
							<tr align="center">
								<td colspan="2"><div id="a_Name"></div></td>
							</tr>
              <tr id="a_flavourTextHandle">
                <td colspan="2"><div id="a_flavourText"></div></td>
              </tr>
              <tr>
								<td>Level: </td>
								<td><div id="a_Level"></div></td>
							</tr>
							<tr>
								<td>Durability: </td>
								<td><div id="a_Decay"></div></td>
							</tr>
              <tr>
                <td colspan="2" id="armourStats"></td>
              </tr>
              <tr id="armourRepairPanel">
                <td colspan="2">
                  <span class="bigButton" id="repairButton" onClick="Game.startArmourRepair();">Repair Armour</span>
                </td>
              </tr>
            </table>
					</td>
					<td id="rightPanel" valign="top">
						<table>
							<tr>
								<td>
									<table id="combatTable" style="display:none;">
                    <tr>
                      <td>
													<span id="playerHPHeader" style="float:left;">Player Health</span>
											</td>
                      <td>
													<span id="enemyHPHeader" style="float:right;">Enemy Health</span>
											</td>
                    </tr>
                    <tr>
											<td colspan="2">
												<div class="playerHPBorder">
													<img id="playerHPBar" class="playerHPBar" src="Clear.gif"></img>
												</div>
												<div class="enemyHPBorder">
													<img id="enemyHPBar" class="enemyHPBar" src="Clear.gif"></img>
												</div>
											</td>
										</tr>
										<tr>
											<td id="enemyInfo" colspan="2">
                        <table>
                          <tr>
                            <td align="left" width="50%">
                              <span id="enemyName"></span>
                            </td>
                            <td align="left" width="10%">
                              <span id="enemyLevel"></span>
                            </td>
                            <td align="left" width="10%">
                              <span id="enemyMainStat"></span>
                            </td>
                            <td align="right" width="20%">
                              <span id="enemyHealth"></span>
                            </td>
                          </tr>
                          <tr>
                            <td align="left" colspan="2">
                              <span id="enemyWeapon"></span>
                            </td>
                            <td align="right" colspan="2">
                              <span id="enemyDebuffOutput"></span>
                            </td>
                          </tr>
                          <tr>
                            <td align="left" colspan="4">
                              <span id="enemyArmour"></span>
                            </td>
                          </tr>
                        </table>
											</td>
										</tr>
                    <tr id="combatActionBar">
                      <td colspan="2">
                        <span class="bigButton" id="specialButton" onClick="Game.burstAttack();"></span>
                        <span class="bigButton" id="fleeButton" onClick="Game.fleeCombat();">Flee from battle</span>
                      </td>
                    </tr>
                    <tr id="oocActionBar">
                      <td colspan="2">
                        <span class="bigButton" id="combatButton" onClick="Game.startCombat();">Look for something to kill</span>
                      </td>
                    </tr>
										<tr>
											<td colspan="2">
                        <div class="powerHeader">Combat Log</div>
                        <div id="logBody"></div>
											</td>
										</tr>
									</table>
									<table id="powersTable" style="display:none;">
										<tr>
											<td>
                        <div id="levelUpPanel">
													<span class="powerHeader">Skill Point Allocation - <span id="skillPoints"></span> point(s) available</span>
													<br />
													<span><input type="button" onClick="Game.addStat(Game.STAT_STR);" value="Increase Strength"></span>
													<span><input type="button" onClick="Game.addStat(Game.STAT_DEX);" value="Increase Dexterity"></span>
													<span><input type="button" onClick="Game.addStat(Game.STAT_INT);" value="Increase Intelligence"></span>
													<span><input type="button" onClick="Game.addStat(Game.STAT_CON);" value="Increase Constitution"></span>
												</div>
												<table id="selectedPowers" class="selectedPowersPanel"  style="display:none">
													<tr id="selected_header">
														<td colspan="2" class="powerHeader">
															Selected Powers
														</td>
													</tr>
													<tr id="selected_conserve" style="display:none">
														<td width="80%"><div class="powerName">Proper Care</div>Grants a 20% chance per hit for weapon decay to be ignored.</td>
													</tr>
													<tr id="selected_repair" style="display:none">
														<td width="80%"><div class="powerName">High Maintenance</div>Doubles the durability of all weapons.</td>
													</tr>
													<tr id="selected_aspd" style="display:none">
														<td width="80%"><div class="powerName">Nimble Fingers</div>Grants a 20% faster attack speed with all weapons.</td>
													</tr>
													<tr id="selected_heal" style="display:none">
														<td width="80%"><div class="powerName">Survival Instincts</div>Grants a 20% increased repair and regeneration speed.</td>
													</tr>
													<tr id="selected_wspec" style="display:none">
														<td width="80%"><div class="powerName">Keen Eye</div>Increases the debuff application rate to 30%</td>
													</tr>
													<tr id="selected_skillpt" style="display:none">
														<td width="80%"><div class="powerName">Fortuitous Growth</div>Grants a 20% chance to gain an additional free skill point per level.</td>
													</tr>
													<tr id="selected_xp" style="display:none">
														<td width="80%"><div class="powerName">Fast Learner</div>Grants a 20% increase to all experience gained.</td>
													</tr>
													<tr id="selected_meleedmg" style="display:none">
														<td width="80%"><div class="powerName">Brutal Strikes</div>Grants a 20% increase to melee damage.</td>
													</tr>
													<tr id="selected_rangedmg" style="display:none">
														<td width="80%"><div class="powerName">Sniper Training</div>Grants a 20% increase to ranged damage.</td>
													</tr>
													<tr id="selected_magicdmg" style="display:none">
														<td width="80%"><div class="powerName">Unleashed Elements</div>Grants a 20% increase to magic damage.</td>
													</tr>
													<tr id="selected_meleedef" style="display:none">
														<td width="80%"><div class="powerName">Stoneskin</div>Grants a 20% reduction in melee damage taken.</td>
													</tr>
													<tr id="selected_rangedef" style="display:none">
														<td width="80%"><div class="powerName">Iron Carapace</div>Grants a 20% reduction in ranged damage taken.</td>
													</tr>
													<tr id="selected_magicdef" style="display:none">
														<td width="80%"><div class="powerName">Aetheric Resilience</div>Grants a 20% reduction in magic damage taken.</td>
													</tr>
													<tr id="selected_double" style="display:none">
														<td width="80%"><div class="powerName">Flurry</div>Grants a 20% chance to perform a second attack on each combat tick.</td>
													</tr>
													<tr id="selected_shield" style="display:none">
														<td width="80%"><div class="powerName">Divine Shield</div>Grants a 10% chance to nullify damage taken in a combat round.</td>
													</tr>
                          <tr id="selected_currency" style="display:none">
														<td width="80%"><div class="powerName">Pickpocket</div>Grants 20% more seeds from defeated enemies.</td>
													</tr>
												</table>
												<table id="availablePowers" class="availablePowersPanel">
													<tr>
														<td colspan="2" class="powerHeader">
															Special Powers (<span id="p_PP"></span> point(s) available)
														</td>
													</tr>
													<tr id="conserve">
														<td width="80%"><div class="powerName">Proper Care</div>Grants a 20% chance per hit for weapon decay to be ignored.</td>
														<td width="20%"><input type="button" id="buy_Conserve" onClick="Game.buyPower(Game.BOOST_CONSERVE);" value="Activate"></td>
													</tr>
													<tr id="repair">
														<td width="80%"><div class="powerName">High Maintenance</div>Doubles the durability of all weapons.</td>
														<td width="20%"><input type="button" id="buy_Repair" onClick="Game.buyPower(Game.BOOST_REPAIR);" value="Activate"></td>
													</tr>
													<tr id="aspd">
														<td width="80%"><div class="powerName">Nimble Fingers</div>Grants a 20% faster attack speed with all weapons.</td>
														<td width="20%"><input type="button" id="buy_ASPD" onClick="Game.buyPower(Game.BOOST_ASPD);" value="Activate"></td>
													</tr>
													<tr id="heal">
														<td width="80%"><div class="powerName">Survival Instincts</div>Grants a 20% increased repair and regeneration speed.</td>
														<td width="20%"><input type="button" id="buy_Heal" onClick="Game.buyPower(Game.BOOST_HEAL);" value="Activate"></td>
													</tr>
													<tr id="wspec">
														<td width="80%"><div class="powerName">Keen Eye</div>Increases the debuff application rate to 30%</td>
														<td width="20%"><input type="button" id="buy_WSpec" onClick="Game.buyPower(Game.BOOST_WSPEC);" value="Activate"></td>
													</tr>
													<tr id="skillpt">
														<td width="80%"><div class="powerName">Fortuitous Growth</div>Grants a 20% chance to gain an additional free skill point per level.</td>
														<td width="20%"><input type="button" id="buy_SkillPT" onClick="Game.buyPower(Game.BOOST_SKILLPT);" value="Activate"></td>
													</tr>
													<tr id="xp">
														<td width="80%"><div class="powerName">Fast Learner</div>Grants a 20% increase to all experience gained.</td>
														<td width="20%"><input type="button" id="buy_XP" onClick="Game.buyPower(Game.BOOST_XP);" value="Activate"></td>
													</tr>
													<tr id="meleedmg">
														<td width="80%"><div class="powerName">Brutal Strikes</div>Grants a 20% increase to melee damage.</td>
														<td width="20%"><input type="button" id="buy_MeleeDMG" onClick="Game.buyPower(Game.BOOST_MELEEDMG);" value="Activate"></td>
													</tr>
													<tr id="rangedmg">
														<td width="80%"><div class="powerName">Sniper Training</div>Grants a 20% increase to ranged damage.</td>
														<td width="20%"><input type="button" id="buy_RangeDMG" onClick="Game.buyPower(Game.BOOST_RANGEDMG);" value="Activate"></td>
													</tr>
													<tr id="magicdmg">
														<td width="80%"><div class="powerName">Unleashed Elements</div>Grants a 20% increase to magic damage.</td>
														<td width="20%"><input type="button" id="buy_MagicDMG" onClick="Game.buyPower(Game.BOOST_MAGICDMG);" value="Activate"></td>
													</tr>
													<tr id="meleedef">
														<td width="80%"><div class="powerName">Stoneskin</div>Grants a 20% reduction in melee damage taken.</td>
														<td width="20%"><input type="button" id="buy_MeleeDEF" onClick="Game.buyPower(Game.BOOST_MELEEDEF);" value="Activate"></td>
													</tr>
													<tr id="rangedef">
														<td width="80%"><div class="powerName">Iron Carapace</div>Grants a 20% reduction in ranged damage taken.</td>
														<td width="20%"><input type="button" id="buy_RangeDEF" onClick="Game.buyPower(Game.BOOST_RANGEDEF);" value="Activate"></td>
													</tr>
													<tr id="magicdef">
														<td width="80%"><div class="powerName">Aetheric Resilience</div>Grants a 20% reduction in magic damage taken.</td>
														<td width="20%"><input type="button" id="buy_MagicDEF" onClick="Game.buyPower(Game.BOOST_MAGICDEF);" value="Activate"></td>
													</tr>
													<tr id="double">
														<td width="80%"><div class="powerName">Flurry</div>Grants a 20% chance to perform a second attack on each combat tick.</td>
														<td width="20%"><input type="button" id="buy_Double" onClick="Game.buyPower(Game.BOOST_DOUBLE);" value="Activate"></td>
													</tr>
													<tr id="shield">
														<td width="80%"><div class="powerName">Divine Shield</div>Grants a 10% chance to nullify damage taken in a combat round.</td>
														<td width="20%"><input type="button" id="buy_Shield" onClick="Game.buyPower(Game.BOOST_SHIELD);" value="Activate"></td>
													</tr>
                          <tr id="currency">
														<td width="80%"><div class="powerName">Pickpocket</div>Grants 20% more seeds from defeated enemies.</td>
														<td width="20%"><input type="button" id="buy_Currency" onClick="Game.buyPower(Game.BOOST_CURRENCY);" value="Activate"></td>
													</tr>
												</table>
											</td>
										</tr>
									</table>
									<table id="inventoryTable" style="display:none;">
                    <tr id="enemyItems" style="display:none;">
                      <td>
                        <div class="powerHeader">Enemy Inventory</div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <table id="enemyInvOut"></table>
                      </td>
                    </tr>
                    <tr id="weaponCache" style="display:none;">
                      <td>
                        <div class="powerHeader">Weapon Cache</div>
                          <span onclick="Game.sellAllWeapons()" class="bigButton">Sell All</span>
                          <span onclick="Game.scrapAllWeapons()" class="bigButton">Scrap All</span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <table id="weaponOut"></table>
                      </td>
                    </tr>
                    <tr id="armourCache" style="display:none;">
                      <td>
                        <div class="powerHeader">Armour Cache&nbsp;</div>
                          <span onclick="Game.sellAllArmour()" class="bigButton">Sell All</span>
                          <span onclick="Game.scrapAllArmour()" class="bigButton">Scrap All</span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <table id="armourOut"></table>
                      </td>
                    </tr>
                  </table>
									<table id="storeTable"style="display:none;">
                    <tr>
                      <td>
                        Increase Weapon Level for <span id="weaponLevelUpgradeCost"></span> seeds
                      </td>
                      <td><span class="bigButton" onClick="Game.buyWeaponLevelUpgrade();">Raise Weapon Level</span></td>
                    </tr>
                    <tr>
                      <td>
                        Increase Armour Level for <span id="armourLevelUpgradeCost"></span> seeds
                      </td>
                      <td><span class="bigButton" onClick="Game.buyArmourLevelUpgrade();">Raise Armour Level</span></td>
                    </tr>
                    <tr><td>&nbsp;</td><td>&nbsp;</td></tr>
                    <tr id="weaponQualityUpRow">
                      <td>
                        Increase Weapon quality for <span id="weaponQualityUpgradeCost"></span> scrap
                      </td>
                      <td><span class="bigButton" onClick="Game.buyWeaponQualityUpgrade();">Raise Weapon Quality</span>
                    </tr>
                    <tr id="armourQualityUpRow">
                      <td>
                        Increase Armour quality for <span id="armourQualityUpgradeCost"></span> scrap
                      </td>
                      <td><span class="bigButton" onClick="Game.buyArmourQualityUpgrade();">Raise Armour Quality</span>
                    </tr>
                  </table>
									<table id="miscTable" style="display:none;">
                    <tr>
                      <td>
                        <span class="bigButton" onClick="Game.save();">Save Game</span>
                        <span class="bigButton" onClick="Game.reset();">Reset Game</span>
                        <br /><br />
                        <div class="powerHeader">Autobattle Options</div>
												<div>Toggle Autobattle Activation: <span><input id="ab_toggle" type="button" value="Enable / Disable" onclick="Game.toggleAutoBattle()"></span></div>
												<div>Health Percentage to Flee From Combat: 
                          <span>
                            <select id="ab_fleePercent" style="color:#000000;">
                              <option value="5">5%</option>
                              <option value="10" selected="selected">10%</option>
                              <option value="15">15%</option>
                              <option value="20">20%</option>
                              <option value="25">25%</option>
                              <option value="30">30%</option>
                            </select>
                          </span>
                        </div>
                        <div>Automatic Repair Threshold: 
                          <span>
                            <select id="ab_lowdura" style="color:#000000;">
                              <option value="5">5</option>
                              <option value="10" selected="selected">10</option>
                              <option value="15">15</option>
                              <option value="20">20</option>
                              <option value="25">25</option>
                              <option value="30">30</option>
                            </select>
                          </span>
                        </div>
                        <br /><br />
                        <div class="powerHeader">Bulk Options</div>
                        <div>Weapon Quality Bulk Sell/Scrap Threshold: 
                          <span>
                            <select id="wep_minBulk" style="color:#000000;">
                              <option class="q221" value="221">Poor</option>
                              <option class="q222" style="color:#000000;" value="222" selected="selected">Normal</option>
                              <option class="q223" value="223">Good</option>
                              <option class="q224" value="224">Great</option>
                              <option class="q225" value="225">Amazing</option>
                            </select>
                          </span>
                        </div>
                        <div>Armour Quality Bulk Sell/Scrap Threshold: 
                          <span>
                            <select id="arm_minBulk" style="color:#000000;">
                              <option class="q221" value="221">Poor</option>
                              <option class="q222" style="color:#000000;" value="222" selected="selected">Normal</option>
                              <option class="q223" value="223">Good</option>
                              <option class="q224" value="224">Great</option>
                              <option class="q225" value="225">Amazing</option>
                            </select>
                          </span>
                        </div>
                        <div>(Items of this quality or less will be eligible for bulk sell/scrap)</div>
                      </td>
                    </tr>
                  </table>
									<table id="helpTable"></table>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>
    <div id="saveToast" class="savePopup" style="display:none;"><span id="toastContent"></span></div>
		<div class="footer">Realm of Decay &copy; Martin Hayward (Psychemaster) 2014 - Version 0.226</div>
	</body>
</html>
